## 重构你的JS代码

### 参考

- [重构你的javascript代码](https://juejin.im/post/5c4560c1f265da616624c166)
- [JS风格指南](https://lq782655835.github.io/blogs/team-standard/clean-code-javascript.html)
- [重构-读书笔记](https://zhuanlan.zhihu.com/p/68385955)

### 前言

- 开放封闭原则： 拓展开放，修改关闭
- 按照功能划分函数或模块，后期维护方便，力求后期维护改动最小化
- 一个大功能不要写到一个大文件中，要尽量拆分成小的模块，方便后期维护+多人合作，需要满足开放、封闭原则
- 复杂的问题需要分层来解决
  - OSI网络七层
  - MVVM 四层
  - 

#### 如何判断是否符合

- 新增一个功能点，不需要修改已经写好的那部分代码，只是新增一些函数，或者复用已经写好的函数

### 如何提升这个意识

- 阅读书籍
  - 《重构：改善既有代码的设计》
  - 《代码整洁之道》
- 相关知识
  - 设计模式

#### 为什么要满足这些原则

- 方便后期维护 
  - 条理清晰易于维护
  - 只开放修改，影响面可控，改一个地方，不会影响到其他功能
- 复用



#### 代码层面

- 多处用到的数字，使用常量
- 函数的功能单一，方便复用
- 



### 文件层面

- 职责分离
  - 不懂的组件，做不同的事情，并且只做那点事情
- 横向
  - 组件设计层面，参照 ele/ants
  - 每个大的组件（table，form），都是由很多小的组件组成的，那么他们是怎么拆分的，根据什么拆分的，肯定是有值得借鉴的地方的
- 纵向
  - 每个组件都用到同一个功能，应该抽离出来，例如可能喝多地方需要支持拖动，需要把拖动抽离出来

### 人人可用的规范

- 变量命名

##### 实际问题

报销申请

不同的报销分类有不同的字段，也有相同的字段（有不同的逻辑），每个报销分类下面又有取派干类型字段，这个字段的不同，造成又有不同的明细分类，也有相同和不同的字段。

所有不同分类中的相同字段，的方法都用同一个方法，导致后面增加一个分类就需要修改这个方法









